<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instructions - Assessment Examination Center</title>
    <!-- Use Tailwind CSS but rely on exact sizing constraints heavily -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Times New Roman', serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
        }

        .header-bar {
            background-color: #3b5998;
            height: 30px;
            width: 100%;
            border-bottom: 2px solid #2d4373;
        }

        .title-bar {
            background-color: #b3d4e6;
            padding: 10px 20px;
            font-family: Arial, sans-serif;
            font-size: 18px;
            font-weight: bold;
            color: #555;
            border-bottom: 1px solid #999;
        }

        .content-area {
            display: flex;
            height: calc(100vh - 100px);
            background: #fff;
        }

        .left-panel {
            flex-grow: 1;
            overflow-y: auto;
            padding: 20px 40px;
        }

        .right-panel {
            width: 250px;
            border-left: 1px solid #ccc;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
            background-color: #fff;
            flex-shrink: 0;
        }

        .btn-next {
            padding: 8px 30px;
            background: white;
            border: 1px solid #ccc;
            cursor: pointer;
            font-family: Arial, sans-serif;
            font-weight: bold;
            color: #333;
            margin-top: 20px;
            display: inline-flex;
            align-items: center;
        }

        .btn-next:hover {
            background: #f9f9f9;
        }

        .footer {
            background-color: #617b8c;
            color: white;
            text-align: center;
            font-size: 11px;
            padding: 4px;
            position: fixed;
            bottom: 0;
            width: 100%;
            font-family: Arial, sans-serif;
        }

        ol {
            padding-left: 20px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 5px;
            line-height: 1.4;
            font-size: 15px;
        }

        h3 {
            text-align: center;
            font-family: 'Times New Roman', serif;
            font-size: 18px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .section-title {
            font-weight: bold;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 16px;
        }

        /* Question icons */
        .q-icon {
            display: inline-flex;
            width: 20px;
            height: 18px;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            margin-right: 5px;
            font-family: Arial, sans-serif;
            vertical-align: middle;
        }

        .not-visited {
            background: linear-gradient(to bottom, #fff 0%, #e0e0e0 100%);
            border: 1px solid #ccc;
            color: #333;
        }

        .not-answered {
            background: linear-gradient(135deg, #ef4444 0%, #b91c1c 100%);
            color: white;
            clip-path: polygon(0 0, 100% 0, 100% 80%, 50% 100%, 0 80%);
        }

        .answered {
            background: linear-gradient(135deg, #10b981 0%, #047857 100%);
            color: white;
            clip-path: polygon(50% 0, 100% 20%, 100% 100%, 0 100%, 0 20%);
        }

        .marked {
            background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
            color: white;
            border-radius: 50%;
        }

        .ans-marked {
            background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
            color: white;
            border-radius: 50%;
            position: relative;
        }

        .ans-marked::after {
            content: '✓';
            position: absolute;
            bottom: -3px;
            right: -3px;
            width: 10px;
            height: 10px;
            background-color: #059669;
            border: 1px solid white;
            border-radius: 50%;
            font-size: 7px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .arrow-icon {
            background-color: #3b82f6;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
    </style>
</head>

<body>

    <div class="header-bar"></div>
    <div class="title-bar">Instructions</div>

    <div class="content-area">
        <div style="flex-grow: 1; display: flex; flex-direction: column; overflow: hidden;">
            <div class="left-panel" style="flex-grow: 1; overflow-y: auto;">
                <div
                    style="text-align: right; font-family: 'Times New Roman', serif; font-size: 13px; margin-bottom: 20px;">
                    View in :
                    <select style="font-family: Arial, sans-serif; padding: 2px;">
                        <option>English</option>
                    </select>
                </div>

                <h3>Please read the instructions carefully</h3>

                <div class="section-title">A. General Instructions:</div>
                <ol>
                    <li>Total duration of examination: <span id="examDuration" style="font-weight: bold;"></span>
                        minutes</li>
                    <li>Number of questions: <span id="examQuestionsCount" style="font-weight: bold;"></span></li>
                    <li>All questions are of <b>objective type</b>. Four options are given to each question out of which
                        only one will be the correct answer.</li>
                    <li id="negativeMarkingText">There will be <b>negative marking</b> for wrong answers. 1/3rd mark
                        will be deducted for every
                        wrong
                        answer.</li>
                    <li><b style="text-decoration: underline;">Click on Save and Next button after answering every
                            question
                            to save your answer.</b> Otherwise, your answer will not be saved.</li>
                    <li><b>Language:</b> You can view the Question paper in the language opted for at the time of
                        filling
                        the Application and in English Language. If English Language is opted, then question paper can
                        be
                        viewed in English Language only. The instructions and the questions shall be displayed in the
                        language chosen by you from the drop-down language list in the instructions page as well as on
                        the
                        top right corner of Question paper. The questions will appear on the screen in the selected
                        language. You can refer the English or opted language version of the Question Paper during the
                        exam
                        by selecting the required option from the drop-down list available as "View in" on the top right
                        corner of the question screen.</li>
                    <li>One question will be displayed on the screen at a time.</li>
                    <li>Time available for you to complete the examination will be displayed through a countdown timer
                        in
                        the top right-hand corner of the screen. It will display the remaining time as <b>Time Left</b>.
                        At
                        the beginning of exam, timer will show <span id="examDurationText2"
                            style="font-weight: bold;"></span> minutes which will
                        reduce gradually with passage of
                        time.
                        When the timer reaches zero, the examination will end by itself, and your examination will be
                        submitted by the system automatically.</li>
                </ol>

                <table style="width: 100%; border: none;">
                    <tr>
                        <td
                            style="width: 30px; vertical-align: top; font-weight: bold; border: none; padding-right: 10px;">
                            B</td>
                        <td style="border: none;">
                            <div style="font-weight: bold; margin-bottom: 10px;">Question Number Box:</div>
                            <ol>
                                <li>Question Number Box displayed on the right side of the screen will show the status
                                    of
                                    each question using one of the following symbols:
                                    <div style="margin-left: 20px; margin-top: 15px;">
                                        <div style="margin-bottom: 10px;"><span class="q-icon not-visited">1</span> You
                                            have
                                            not visited the question yet.</div>
                                        <div style="margin-bottom: 10px;"><span class="q-icon not-answered">2</span> You
                                            have not answered the question.</div>
                                        <div style="margin-bottom: 10px;"><span class="q-icon answered">3</span> You
                                            have
                                            answered the question.</div>
                                        <div style="margin-bottom: 10px;"><span class="q-icon marked">4</span> You have
                                            NOT
                                            answered the question, but have marked the question for review.</div>
                                        <div style="margin-bottom: 15px;"><span class="q-icon ans-marked">5</span> You
                                            have
                                            answered the question and marked for review. This will be considered for
                                            evaluation.</div>
                                    </div>
                                    <p style="margin-top: 15px;">The 'Marked for Review' status for a question simply
                                        indicates that you would like to look at that question again.</p>
                                </li>
                                <li>You can click on the "&gt;" arrow which appears to the left of question number box
                                    to
                                    minimise the question number box. This will enable you to view the question on a
                                    bigger
                                    area of the screen. To view the question number box again, you can click on "&lt;"
                                    arrow
                                    which appears on the right side of the screen.</li>
                                <li>You can click on <span class="arrow-icon">↓</span> to navigate to the bottom and
                                    <span class="arrow-icon">↑</span> to navigate to the top of the question area,
                                    without
                                    scrolling.
                                </li>
                                <li>The summary of number of questions answered, not answered, not visited, marked for
                                    review and answered and marked for review will be displayed above the question
                                    number
                                    box.</li>
                            </ol>
                        </td>
                    </tr>
                    <tr>
                        <td
                            style="width: 30px; vertical-align: top; font-weight: bold; border: none; padding-right: 10px; padding-top: 20px;">
                            C</td>
                        <td style="border: none; padding-top: 20px;">
                            <div style="font-weight: bold; margin-bottom: 10px;">Answering a Question</div>
                            <ol>
                                <li>The questions will appear on the screen in serial order from question number 1 to
                                    <span id="examQuestionsCount2" style="font-weight: bold;"></span>,
                                    which can be answered one by one as given below:
                                    <ol type="a" style="margin-top: 5px;">
                                        <li>To select your answer, click on the button of one of the options</li>
                                        <li>To deselect your chosen answer, click on the button of the chosen option
                                            again
                                            or click on the <b>Clear Response</b> button</li>
                                        <li>To change your chosen answer, click on the button of option you want to
                                            choose.
                                        </li>
                                        <li><b style="text-decoration: underline;">To save your answer</b>, you MUST
                                            click
                                            on the <b>Save & Next</b> button.</li>
                                        <li>In case of doubt on the option marked for a question, the question can be
                                            marked
                                            for review by clicking <b>Mark for Review & Next</b> button. In case the
                                            marked
                                            option is not reviewed, the originally marked option shall be considered for
                                            evaluation.</li>
                                    </ol>
                                </li>
                                <li>To change your answer to a question that has already been answered, first click on
                                    that
                                    question number from the question number box and follow the procedure for answering
                                    as
                                    mentioned at 1 above.</li>
                            </ol>
                        </td>
                    </tr>
                    <tr>
                        <td
                            style="width: 30px; vertical-align: top; font-weight: bold; border: none; padding-right: 10px; padding-top: 20px;">
                            D</td>
                        <td style="border: none; padding-top: 20px;">
                            <div style="font-weight: bold; margin-bottom: 10px;">Instruction for enlarging images</div>
                            <p style="margin-bottom: 20px;">To view the image provided in the question in a bigger size,
                                click on the image and rotate the scrolling wheel on the mouse.</p>
                        </td>
                    </tr>
                </table>
            </div>

            <div
                style="border-top: 1px solid #ccc; text-align: right; padding: 15px 40px; background: white; flex-shrink: 0;">
                <button class="btn-next" style="margin: 0;" onclick="navigateToNext()">Next &gt;</button>
            </div>
        </div>

        <div class="right-panel">
            <img src="img/user_1.png" id="candidatePhotoInfo"
                style="width: 90px; height: 100px; object-fit: contain; border: 1px solid #ccc; padding: 2px;"
                onerror="this.src='https://upload.wikimedia.org/wikipedia/en/thumb/4/45/Indian_Railways_logo.svg/1200px-Indian_Railways_logo.svg.png'">
            <div id="candidateNameInfo"
                style="margin-top: 15px; font-family: Arial, sans-serif; font-weight: bold; color: #1b528a; text-align: center; font-size: 14px;">
                John Smith</div>
        </div>
    </div>

    <div class="footer">Version : 17.07.00</div>

    <script>
        // Sync user info from parent
        function syncParentData() {
            if (window.parent && window.parent.REG_USERS) {
                const usernameEl = window.parent.document.getElementById('username');
                if (!usernameEl) return false;

                const u = usernameEl.value;
                if (u && window.parent.REG_USERS[u]) {
                    const user = window.parent.REG_USERS[u];
                    document.getElementById('candidateNameInfo').textContent = user.name;
                    if (user.photo) document.getElementById('candidatePhotoInfo').src = user.photo;
                }

                // Adjust exam counts
                if (window.parent.questions && window.parent.questions.length > 0) {
                    const count = window.parent.questions.length;
                    document.getElementById('examQuestionsCount').textContent = count;
                    if (document.getElementById('examQuestionsCount2')) {
                        document.getElementById('examQuestionsCount2').textContent = count;
                    }
                    let duration = count === 175 ? 180 : 120;
                    document.getElementById('examDuration').textContent = duration;
                    if (document.getElementById('examDurationText2')) {
                        document.getElementById('examDurationText2').textContent = duration;
                    }
                    if (document.getElementById('negativeMarkingText')) {
                        if (count === 110) {
                            document.getElementById('negativeMarkingText').innerHTML = '<b>There will be NO negative marking for this exam.</b>';
                        } else {
                            document.getElementById('negativeMarkingText').innerHTML = 'There will be <b>negative marking</b> for wrong answers. 1/3rd mark will be deducted for every wrong answer.';
                        }
                    }
                    return true; // Stop polling
                }
            }
            return false;
        }

        window.addEventListener('load', () => {
            // Try immediately
            if (!syncParentData()) {
                // Poll every 100ms if not ready
                const interval = setInterval(() => {
                    if (syncParentData()) clearInterval(interval);
                }, 100);
            }
        });

        function navigateToNext() {
            let nextUrl = 'instructions_other.html'; // default fallback
            if (window.parent && window.parent.questions) {
                const count = window.parent.questions.length;
                if (count === 175) nextUrl = 'instructions_175.html';
                else if (count === 110) nextUrl = 'instructions_110.html';
            }
            window.location.href = nextUrl;
        }
    </script>
</body>

</html>